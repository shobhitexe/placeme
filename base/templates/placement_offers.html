{% extends 'base.html' %}
{% load static %}  
{% load crispy_forms_tags %}
{% block content %}
<br>
<section class="vh-100">
    <div class="container h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col-lg-12 col-xl-11">
          <div class="card text-black" style="border-radius: 25px;">
            <div class="card-body p-md-5">
              <div class="row justify-content-center">
                <div class="col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1">
                  <p class="text-center h1 fw-bold">Placement Offers</p>
                  <hr class="my-4" />
                  <h4>Instructions:</h4>
                    <p>
                        1. Please choose carefully
                    </p>
                    <p>
                        2. Cannot undo selection after selected
                    </p>
                    <p>
                        3. Latest offer selected will be considered as final
                    </p>
                    <hr class="my-4" />
                    <form method = "post" action="{% url 'placement_offers' %}">
                    {% csrf_token %}
                    <div class="row">
                      <div class="form-group col-md-4">
                          <label for="day0">Day 0 Offers :</label>
                      </div>
                      <div class="form-group col-md-4">
                        <select name="day0" class="select form-control" id="day0opt">
                            {% for value in offers.Day0 %}
                            <option>{{value}}</option>
                            {% endfor %}
                        </select>
                      </div>
                      <div class="form-group col-md-4">
                        <button name="day0sub" id="d0sub" type="submit" class="btn btn-primary">Confirm</button>
                      </div>
                    </div>
                    <br>
                    <hr class="my-4" />
                    <div class="row">
                        <div class="form-group col-md-4">
                            <label for="day1">Day 1 Offers :</label>
                        </div>
                        <div class="form-group col-md-4">
                          <select name="day1" class="select form-control" id="day1opt">
                            {% for value in offers.Day1 %}
                                <option>{{value}}</option>
                            {% endfor %}
                          </select>
                        </div>
                        <div class="form-group col-md-4">
                            <button name="day1sub" id="d1sub" type="submit" class="btn btn-primary">Confirm</button>
                        </div>
                    </div>
                    <br>
                    <hr class="my-4" />
                    <div class="row">
                        <div class="form-group col-md-4">
                            <label for="day2">Day 2 Offers :</label>
                        </div>
                        <div class="form-group col-md-4">
                          <select name="day2" class="select form-control" id="day2opt">
                            {% for value in offers.Day2 %}
                            <option>{{value}}</option>
                            {% endfor %}
                          </select>
                        </div>
                        <div class="form-group col-md-4">
                            <button name="day2sub" id="d2sub" type="submit" class="btn btn-primary">Confirm</button>
                        </div>
                    </div>
                    </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</section>

<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>
    $(document).ready(function(){

        day0opt = "{{offers.Day0}}"
        day1opt = "{{offers.Day1}}"
        day2opt = "{{offers.Day2}}"
        if (day0opt === "[]")
        {
            $('#d0sub').prop('disabled', true)
        }
        if (day1opt === "[]")
        {
            $('#d1sub').prop('disabled', true)
        }
        if (day2opt === "[]")
        {
            $('#d2sub').prop('disabled', true)
        }
});
</script>
{% endblock content %}